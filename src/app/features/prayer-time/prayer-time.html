<div class="preview-section">
  <div class="prayer-preview-card">
    <div class="widget-header">
      <div class="location-selector">
        <span class="loc-icon">üìç</span>
        <input
          type="text"
          value="Paris, France"
          class="loc-input"
          placeholder="Chercher une ville..."
        />
        <span class="edit-icon">‚úé</span>
      </div>
      <div class="date-display">{{ today }}</div>
    </div>

    <div class="widget-content">
      <div class="left-panel">
        <div class="next-prayer-highlight">
          <p>
            Prochaine pri√®re : <span class="gold-text">{{ nextPrayerName }}</span>
          </p>
          <div class="countdown">{{ countDownDisplay }}</div>
        </div>

        <div class="prayer-list">
          @for (prayer of prayersList; track prayer.label) {
            <div class="prayer-row" [class.active-row]="nextPrayerName === prayer.label">
              @if (nextPrayerName === prayer.label) {
                <div class="row-content">
                  <span class="p-name">{{ prayer.label }}</span>
                  <span class="active-badge">Bient√¥t</span>
                </div>
              } @else {
                <span class="p-name">{{ prayer.label }}</span>
              }

              <span class="p-time">{{ prayer.time | slice: 0 : 5 }}</span>
            </div>
          }
        </div>
      </div>

      <div class="vertical-divider"></div>

      <div class="right-panel">
        <app-calendar
          [selectedDate]="currentDateTarget"
          (dateChange)="onDateChangedFromCalendar($event)"
        >
        </app-calendar>
      </div>
    </div>
  </div>
</div>
